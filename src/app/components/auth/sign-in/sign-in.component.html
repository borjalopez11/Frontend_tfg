<div *ngIf="showToast" class="toast-container" [ngClass]="{'toast-success': toastSuccess, 'toast-error': !toastSuccess}">
  {{ toastMessage }}
</div>

<div class="containera">
  <div class="container">
    <div class="registro">
      <h1 class="auth-title">REGÍSTRATE</h1>

      <div class="form" [formGroup]="formSignup">
        <div class="form-column">
          <label for="name">Nombre</label>
          <input type="text" formControlName="name" class="form-control" id="name" placeholder="Nombre"
                 [ngClass]="{'input-error': formSignup.get('name')?.touched && formSignup.get('name')?.invalid}">
          <span class="error-msg">
            <span *ngIf="formSignup.get('name')?.touched && formSignup.get('name')?.hasError('required')">
              Name is required
            </span>
          </span>

          <label for="email">Email</label>
          <input type="email" formControlName="email" class="form-control" id="email" placeholder="Correo electrónico"
                 required
                 [ngClass]="{'input-error': formSignup.get('email')?.touched && formSignup.get('email')?.invalid}">
          <span class="error-msg">
            <span *ngIf="formSignup.get('email')?.touched && formSignup.get('email')?.hasError('required')">
              Email is required
            </span>
            <span *ngIf="formSignup.get('email')?.touched && formSignup.get('email')?.hasError('email')">
              Email format is invalid
            </span>
            <span *ngIf="formSignup.get('email')?.hasError('emailInUse')">
  Este correo ya está registrado
</span>

          </span>

          <label for="password">Contraseña</label>
          <input type="password" formControlName="password" class="form-control" id="password" placeholder="Contraseña"
                 required
                 [ngClass]="{'input-error': formSignup.get('password')?.touched && formSignup.get('password')?.invalid}">
          <span class="error-msg">
            <span *ngIf="formSignup.get('password')?.touched && formSignup.get('password')?.hasError('required')">
              Password is required
            </span>
          </span>
        </div>

        <div class="form-column">
          <label for="secondName">Apellidos</label>
          <input type="text" formControlName="secondName" class="form-control" id="secondName" placeholder="Apellidos"
                 required
                 [ngClass]="{'input-error': formSignup.get('secondName')?.touched && formSignup.get('secondName')?.invalid}">
          <span class="error-msg">
            <span *ngIf="formSignup.get('secondName')?.touched && formSignup.get('secondName')?.hasError('required')">
              Second name is required
            </span>
          </span>

          <label for="number">Número de teléfono</label>
          <input type="tel" formControlName="number" class="form-control" id="number" placeholder="Número de teléfono"
                 required
                 [ngClass]="{'input-error': formSignup.get('number')?.touched && formSignup.get('number')?.invalid}">
          <span class="error-msg">
            <span *ngIf="formSignup.get('number')?.touched && formSignup.get('number')?.hasError('required')">
              Phone number is required
            </span>
            <span
              *ngIf="formSignup.get('number')?.touched && (formSignup.get('number')?.hasError('minlength') || formSignup.get('number')?.hasError('maxlength'))">
              Phone number must be 9 digits
            </span>
            <span *ngIf="formSignup.get('number')?.touched && formSignup.get('number')?.hasError('pattern')">
  Only 9 digits are allowed
</span>

          </span>

          <label for="passwordConfirmation">Confirmar contraseña</label>
          <input type="password" formControlName="passwordConfirmation" class="form-control" id="passwordConfirmation"
                 placeholder="Confirmar contraseña" required
                 [ngClass]="{'input-error': formSignup.get('passwordConfirmation')?.touched && formSignup.get('passwordConfirmation')?.invalid}">
          <span class="error-msg">
            <span
              *ngIf="formSignup.get('passwordConfirmation')?.touched && formSignup.get('passwordConfirmation')?.hasError('required')">
              Password confirmation is required
            </span>
          </span>
        </div>
      </div>

      <p class="auth-register-text">
        ¿Ya tienes una cuenta?
        <a routerLink="/login">Iniciar sesión</a>
      </p>

      <div class="conditions">
        <label>
          <input type="checkbox" [(ngModel)]="termsAccepted">
          Acepto las <a href="#" (click)="openTerms(); $event.preventDefault()">condiciones de uso</a>
        </label>
        <br>
        <label>
          <input type="checkbox" [(ngModel)]="privacyAccepted">
          Acepto la <a href="#" (click)="openPrivacy(); $event.preventDefault()">política de privacidad</a>
        </label>
      </div>



      <input type="submit" value="Registrarse" class="submit-btn" (click)="onSubmit()">
    </div>
  </div>



  <app-modal-terms-conditions *ngIf="showTermsModal" (closed)="showTermsModal = false"></app-modal-terms-conditions>
  <app-modal-privacity-policy *ngIf="showPrivacyModal" (closed)="showPrivacyModal = false"></app-modal-privacity-policy>




</div>
