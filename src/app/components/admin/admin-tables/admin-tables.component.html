<div class="container-fluid mt-4 d-flex justify-content-center">
  <div class="admin-form-wrapper w-100" style="max-width: 900px;">
    <h2 class="section-title text-center">Mesas del Restaurante</h2>

    <section class="mb-4">
      <h5 class="section-title">Crear Mesa</h5>
      <form class="row g-2" (ngSubmit)="crearMesa()" #mesaForm="ngForm">
        <div class="col-9">
          <input [(ngModel)]="newTableNumber" name="tableNumber" type="number"
                 class="form-control" placeholder="Número de mesa" required min="1" />
        </div>
        <div class="col-3">
          <button type="submit" class="btn btn-danger w-100" [disabled]="!mesaForm.form.valid">Crear</button>
        </div>
      </form>
    </section>

    <section *ngIf="tables.length > 0" class="mb-4">
      <table class="table table-dark table-bordered table-striped mt-3 small">
        <thead class="table-danger">
        <tr>
          <th>Número</th>
          <th>Activa</th>
          <th>Ocupada</th>
          <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let table of tables">
          <td>{{ table.tableNumber }}</td>
          <td>{{ table.active ? 'Sí' : 'No' }}</td>
          <td>{{ table.ocuppied ? 'Sí' : 'No' }}</td>
          <td>
            <button
              class="btn btn-sm"
              [ngClass]="table.active ? 'btn-danger' : 'btn-success'"
              (click)="toggleActivation(table)"
            >
              {{ table.active ? 'Desactivar' : 'Activar' }}
            </button>

            <button
              class="btn btn-secondary btn-sm ms-2"
              [disabled]="!table.ocuppied"
              (click)="unassignTable(table)"
            >
              Desocupar
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </section>

    <section *ngIf="tables.length === 0" class="text-center text-white mt-5">
      No hay mesas registradas.
    </section>
  </div>
</div>
